<!DOCTYPE html><html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" /><title>MAUI学习笔记 &mdash; 码农感悟</title><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/vendor/primer-css/css/primer.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/components/collection.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/components/repo-card.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/sections/repo-list.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/components/boxed-group.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/globals/common.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/globals/responsive.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/css/posts/index.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/vendor/octicons/octicons/octicons.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/mzlogin/rouge-themes@master/dist/github.css"><link rel="canonical" href="https://zmngw.github.io/2023/09/05/MAUINote/"><link rel="alternate" type="application/atom+xml" title="码农感悟" href="https://zmngw.github.io/feed.xml"><link rel="shortcut icon" href="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/favicon.ico"><meta property="og:title" content="MAUI学习笔记"><meta name="keywords" content="MAUI, Net"><meta name="og:keywords" content="MAUI, Net"><meta name="description" content=" MAUI（Multi-platform Application User Interface）是一个跨平台的UI框架，使用C#和XAML创建原生的桌面端和移动端应用。支持的系统有Windows, Android, iOS, iPadOS, and macOS。官方不支持Linux。"><meta name="og:description" content=" MAUI（Multi-platform Application User Interface）是一个跨平台的UI框架，使用C#和XAML创建原生的桌面端和移动端应用。支持的系统有Windows, Android, iOS, iPadOS, and macOS。官方不支持Linux。"><meta property="og:url" content="https://zmngw.github.io/2023/09/05/MAUINote/"><meta property="og:site_name" content="码农感悟"><meta property="og:type" content="article"><meta property="og:locale" content="zh_CN" /><meta property="article:published_time" content="2023-09-05"> <script src="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/vendor/jquery/dist/jquery.min.js"></script> <script src="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/js/main.js"></script></head><body class="" data-mz=""><header class="site-header"><div class="container"><h1><a href="https://zmngw.github.io/" title="码农感悟"><span class="octicon octicon-mark-github"></span> 码农感悟</a></h1><button class="collapsed mobile-visible" type="button" onclick="toggleMenu();"> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button><nav class="site-header-nav" role="navigation"> <a href="https://zmngw.github.io/" class="site-header-nav-item" target="" title="首页">首页</a> <a href="https://zmngw.github.io/categories/" class="site-header-nav-item" target="" title="分类">分类</a> <a href="https://zmngw.github.io/archives/" class="mobile-hidden site-header-nav-item" target="" title="归档">归档</a> <a href="https://zmngw.github.io/open-source/" class="mobile-hidden site-header-nav-item" target="" title="开源">开源</a> <a href="https://zmngw.github.io/fragments/" class="site-header-nav-item" target="" title="片段">片段</a> <a href="https://zmngw.github.io/wiki/" class="site-header-nav-item" target="" title="维基">维基</a> <a href="https://zmngw.github.io/links/" class="mobile-hidden site-header-nav-item" target="" title="链接">链接</a> <a href="https://zmngw.github.io/about/" class="site-header-nav-item" target="" title="关于">关于</a> <a class="mobile-hidden" href="https://zmngw.github.io/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></nav></div></header><section class="collection-head small geopattern" data-pattern-id="MAUI学习笔记"><div class="container"><div class="columns"><div class="column three-fourths"><div class="collection-title"><h1 class="collection-header">MAUI学习笔记</h1><div class="collection-info"> <span class="meta-info"> <span class="octicon octicon-calendar"></span> 2023/09/05 </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://zmngw.github.io/categories/#MAUI" title="MAUI">MAUI</a> </span> <span class="meta-info"> <span class="octicon octicon-file-directory"></span> <a href="https://zmngw.github.io/categories/#Net" title="Net">Net</a> </span> <span class="meta-info"> <span class="octicon octicon-clock"></span> 共 18669 字，约 54 分钟 </span></div></div></div><div class="column one-fourth mobile-hidden"><div class="collection-title"> <img style="height:72px;width:72px" src="https://zmngw.github.io/assets/images/qrcode.jpg" alt="码农感悟" /></div></div></div></div></section><section class="container content"><div class="columns"><div class="column three-fourths" ><article class="article-content markdown-body"><blockquote><p>MAUI（Multi-platform Application User Interface）是一个跨平台的UI框架，使用C#和XAML创建原生的桌面端和移动端应用。支持的系统有Windows, Android, iOS, iPadOS, and macOS。官方不支持Linux。</p></blockquote><p>只要有C#，WPF的使用经验，很容易开始移动应用程序。下面接合自己在学习的过程中，整理出一些常用的概念和基本使用方法汇总。</p><h3 id="mainpagexaml文件解析">MainPage.xaml文件解析</h3><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ContentPage</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/dotnet/2021/maui"</span>
             <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2009/xaml"</span>
             <span class="na">x:Class=</span><span class="s">"MyMauiApp.MainPage"</span><span class="nt">&gt;</span>
    ...
<span class="nt">&lt;/ContentPage&gt;</span>
</code></pre></div></div><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">namespace</span> <span class="nn">MyMauiApp</span><span class="p">;</span>

<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MainPage</span> <span class="p">:</span> <span class="n">ContentPage</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">MainPage</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nf">InitializeComponent</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>两个 XML 命名空间 (xmlns) 声明引用 microsoft.com 上的 URI。 但是，这些 URI 中没有内容，它们基本上充当版本标识符。</p><p>第一个 XML 命名空间声明表示在 XAML 文件中定义的标记没有前缀，例如 ContentPage，引用 .NET MAUI 中的类。 第二个命名空间声明定义前缀 x。 这用于 XAML 本身固有的多个元素和属性，这些元素和属性由 XAML 的其他实现支持。 但是，根据 URI 中嵌入的年份，这些元素和属性略有不同。 .NET MAUI 支持 2009 XAML 规范。</p><p>在第一个标记的末尾，前缀 x 用于名为 Class的属性。 由于此 x 前缀的用法几乎适用于 XAML 命名空间，因此 Class 几乎总是称为 x:ClassXAML 属性。 该 x:Class 属性指定完全限定的 .NET 类名： MainPage 命名空间中的 MyMauiApp 类。 这意味着，此 XAML 文件定义命名空间中命名MainPage的新类，该类派生自ContentPage (属性) 所在的标记x:Class。MyMauiApp</p><p>该 x:Class 属性只能显示在 XAML 文件的根元素中，以定义派生的 C# 类。 这是 XAML 文件中唯一定义的新类。 XAML 文件中出现的其他一切只是从现有类实例化并初始化。</p><h3 id="导航">导航</h3><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="nf">MainPage</span><span class="p">()</span>
<span class="p">{</span>
    <span class="nf">InitializeComponent</span><span class="p">();</span>

    <span class="n">Button</span> <span class="n">button</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Button</span>
    <span class="p">{</span>
        <span class="n">Text</span> <span class="p">=</span> <span class="s">"Navigate!"</span><span class="p">,</span>
        <span class="n">HorizontalOptions</span> <span class="p">=</span> <span class="n">LayoutOptions</span><span class="p">.</span><span class="n">Center</span><span class="p">,</span>
        <span class="n">VerticalOptions</span> <span class="p">=</span> <span class="n">LayoutOptions</span><span class="p">.</span><span class="n">Center</span>
    <span class="p">};</span>

    <span class="n">button</span><span class="p">.</span><span class="n">Clicked</span> <span class="p">+=</span> <span class="k">async</span> <span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="k">await</span> <span class="n">Navigation</span><span class="p">.</span><span class="nf">PushAsync</span><span class="p">(</span><span class="k">new</span> <span class="nf">HelloXamlPage</span><span class="p">());</span>
    <span class="p">};</span>

    <span class="n">Content</span> <span class="p">=</span> <span class="n">button</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">Shell.Current.GoToAsync("../DetailsPage?count=2")</code></p><p>可以输入整个导航路径,”..”表示返回上一个页面</p><h4 id="页面参数传递">页面参数传递</h4><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//发送</span>
<span class="k">private</span> <span class="k">async</span> <span class="k">void</span> <span class="nf">TapGestureRecognizer_Tapped</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">var</span> <span class="n">monkey</span> <span class="p">=</span> <span class="p">((</span><span class="n">VisualElement</span><span class="p">)</span><span class="n">sender</span><span class="p">).</span><span class="n">BindingContext</span> <span class="k">as</span> <span class="n">Monkey</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">monkey</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="k">await</span> <span class="n">Shell</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="nf">GoToAsync</span><span class="p">(</span><span class="nf">naeof</span><span class="p">(</span><span class="n">DetailsPage</span><span class="p">),</span> <span class="k">true</span>
                                    <span class="p">,</span><span class="k">new</span> <span class="n">Dictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="kt">object</span><span class="p">&gt;</span> <span class="p">{</span>
        <span class="p">{</span> <span class="s">"Monkey"</span><span class="p">:</span><span class="n">monkey</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">//接收,注意字符串：Monkey</span>
<span class="p">[</span><span class="nf">QueryProperty</span><span class="p">(</span><span class="k">nameof</span><span class="p">(</span><span class="n">Money</span><span class="p">),</span> <span class="s">"Monkey"</span><span class="p">)]</span>
<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MoneyDetailsViewModel</span> <span class="p">:</span> <span class="n">BaseViewModel</span>
<span class="p">{</span>
    <span class="p">[</span><span class="n">ObservableProperty</span><span class="p">]</span>
    <span class="n">Money</span> <span class="n">money</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">//AjppShell中注册路由信息</span>
<span class="n">Type</span> <span class="n">type</span> <span class="p">=</span> <span class="k">typeof</span><span class="p">(</span><span class="n">DetailsPage</span><span class="p">);</span>
<span class="n">Routing</span><span class="p">.</span><span class="nf">RegisterRoute</span><span class="p">(</span><span class="n">type</span><span class="p">.</span><span class="n">Name</span><span class="p">,</span> <span class="n">type</span><span class="p">);</span>

<span class="c1">//接收信息方法二：</span>
<span class="c1">//实现关键接口：IQueryAttributable</span>
<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">MonkeyDetailViewModel</span><span class="p">:</span><span class="n">ViewModelBase</span><span class="p">,</span> <span class="n">IQueryAttributable</span>
    <span class="p">{</span>
        <span class="p">[</span><span class="n">ObservableProperty</span><span class="p">]</span>
        <span class="n">MonkeyModel</span> <span class="n">monkey</span><span class="p">;</span>

        <span class="k">public</span> <span class="k">void</span> <span class="nf">ApplyQueryAttributes</span><span class="p">(</span><span class="n">IDictionary</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">query</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="n">Monkey</span> <span class="p">=</span> <span class="n">query</span><span class="p">[</span><span class="s">"Monkey"</span><span class="p">]</span> <span class="k">as</span> <span class="n">MonkeyModel</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

</code></pre></div></div><h3 id="弹出信息">弹出信息</h3><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">async</span> <span class="k">void</span> <span class="nf">OnButtonClicked</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Button</span> <span class="n">button</span> <span class="p">=</span> <span class="p">(</span><span class="n">Button</span><span class="p">)</span><span class="n">sender</span><span class="p">;</span>
    <span class="k">await</span> <span class="nf">DisplayAlert</span><span class="p">(</span><span class="s">"Clicked!"</span><span class="p">,</span> <span class="s">"The button labeled '"</span> <span class="p">+</span> <span class="n">button</span><span class="p">.</span><span class="n">Text</span> <span class="p">+</span> <span class="s">"' has been clicked"</span><span class="p">,</span> <span class="s">"OK"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="xaml-基本语法">XAML 基本语法</h3><h4 id="属性元素">属性元素</h4><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;Label Text="Hello, XAML!"
       VerticalOptions="Center"
       FontAttributes="Bold"
       FontSize="18"
       TextColor="Aqua" /&gt;
</code></pre></div></div><p>等效定义,TextColor</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Hello, XAML!"</span>
       <span class="na">VerticalOptions=</span><span class="s">"Center"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Label.FontAttributes&gt;</span>
        Bold
    <span class="nt">&lt;/Label.FontAttributes&gt;</span>
    <span class="nt">&lt;Label.FontSize&gt;</span>
        Large
    <span class="nt">&lt;/Label.FontSize&gt;</span>
    <span class="nt">&lt;Label.TextColor&gt;</span>
        Aqua
    <span class="nt">&lt;/Label.TextColor&gt;</span>
<span class="nt">&lt;/Label&gt;</span>
</code></pre></div></div><h4 id="表格定义">表格定义</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ContentPage</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/dotnet/2021/maui"</span>
             <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2009/xaml"</span>
             <span class="na">x:Class=</span><span class="s">"XamlSamples.GridDemoPage"</span>
             <span class="na">Title=</span><span class="s">"Grid Demo Page"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Grid&gt;</span>
        <span class="nt">&lt;Grid.RowDefinitions&gt;</span>
            <span class="nt">&lt;RowDefinition</span> <span class="na">Height=</span><span class="s">"Auto"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;RowDefinition</span> <span class="na">Height=</span><span class="s">"*"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;RowDefinition</span> <span class="na">Height=</span><span class="s">"100"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/Grid.RowDefinitions&gt;</span>
        <span class="nt">&lt;Grid.ColumnDefinitions&gt;</span>
            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">"Auto"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">"*"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">"100"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/Grid.ColumnDefinitions&gt;</span>

        <span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Autosized cell"</span>
               <span class="na">TextColor=</span><span class="s">"White"</span>
               <span class="na">BackgroundColor=</span><span class="s">"Blue"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;BoxView</span> <span class="na">Color=</span><span class="s">"Silver"</span>
                 <span class="na">Grid.Column=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;BoxView</span> <span class="na">Color=</span><span class="s">"Teal"</span>
                 <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Leftover space"</span>
               <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="na">Grid.Column=</span><span class="s">"1"</span>
               <span class="na">TextColor=</span><span class="s">"Purple"</span>
               <span class="na">BackgroundColor=</span><span class="s">"Aqua"</span>
               <span class="na">HorizontalTextAlignment=</span><span class="s">"Center"</span>
               <span class="na">VerticalTextAlignment=</span><span class="s">"Center"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Span two rows (or more if you want)"</span>
               <span class="na">Grid.Column=</span><span class="s">"2"</span> <span class="na">Grid.RowSpan=</span><span class="s">"2"</span>
               <span class="na">TextColor=</span><span class="s">"Yellow"</span>
               <span class="na">BackgroundColor=</span><span class="s">"Blue"</span>
               <span class="na">HorizontalTextAlignment=</span><span class="s">"Center"</span>
               <span class="na">VerticalTextAlignment=</span><span class="s">"Center"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Span two columns"</span>
               <span class="na">Grid.Row=</span><span class="s">"2"</span> <span class="na">Grid.ColumnSpan=</span><span class="s">"2"</span>
               <span class="na">TextColor=</span><span class="s">"Blue"</span>
               <span class="na">BackgroundColor=</span><span class="s">"Yellow"</span>
               <span class="na">HorizontalTextAlignment=</span><span class="s">"Center"</span>
               <span class="na">VerticalTextAlignment=</span><span class="s">"Center"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Fixed 100x100"</span>
               <span class="na">Grid.Row=</span><span class="s">"2"</span> <span class="na">Grid.Column=</span><span class="s">"2"</span>
               <span class="na">TextColor=</span><span class="s">"Aqua"</span>
               <span class="na">BackgroundColor=</span><span class="s">"Red"</span>
               <span class="na">HorizontalTextAlignment=</span><span class="s">"Center"</span>
               <span class="na">VerticalTextAlignment=</span><span class="s">"Center"</span> <span class="nt">/&gt;</span>

    <span class="nt">&lt;/Grid&gt;</span>
<span class="nt">&lt;/ContentPage&gt;</span>
</code></pre></div></div><h3 id="静态资源绑定">静态资源绑定</h3><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Button</span> <span class="na">Text=</span><span class="s">"Do this!"</span>
        <span class="na">HorizontalOptions=</span><span class="s">"{StaticResource horzOptions}"</span>
        <span class="na">VerticalOptions=</span><span class="s">"{StaticResource vertOptions}"</span>
        <span class="na">BorderWidth=</span><span class="s">"{StaticResource borderWidth}"</span>
        <span class="na">Rotation=</span><span class="s">"{StaticResource rotationAngle}"</span>
        <span class="na">TextColor=</span><span class="s">"Red"</span>
        <span class="na">FontSize=</span><span class="s">"{StaticResource fontSize}"</span> <span class="nt">/&gt;</span>
</code></pre></div></div><p>除了 StaticResource 标记扩展之外，还有一个 x:Static 标记扩展。 但是，从资源字典返回对象时 StaticResource ，x:Static 访问公共静态字段、公共静态属性、公共常量字段或枚举成员。</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Label</span> <span class="na">Text=</span><span class="s">"Hello, XAML!"</span>
       <span class="na">VerticalOptions=</span><span class="s">"{x:Static LayoutOptions.Start}"</span>
       <span class="na">HorizontalTextAlignment=</span><span class="s">"{x:Static TextAlignment.Center}"</span>
       <span class="na">TextColor=</span><span class="s">"{x:Static Colors.Aqua}"</span> <span class="nt">/&gt;</span>
</code></pre></div></div><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//----------------------------------------------------------------       </span>
<span class="k">namespace</span> <span class="nn">XamlSamples</span>
<span class="p">{</span>
    <span class="k">static</span> <span class="k">class</span> <span class="nc">AppConstants</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Color</span> <span class="n">BackgroundColor</span> <span class="p">=</span> <span class="n">Colors</span><span class="p">.</span><span class="n">Aqua</span><span class="p">;</span>
        <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Color</span> <span class="n">ForegroundColor</span> <span class="p">=</span> <span class="n">Colors</span><span class="p">.</span><span class="n">Brown</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h4 id="本地命名空间引入">本地命名空间引入</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>xmlns:sys="clr-namespace:System;assembly=netstandard"
</code></pre></div></div><blockquote><p>关键字 clr-namespace 后跟冒号，然后是 .NET 命名空间名称，后跟分号、关键字 assembly、等号和程序集名称。</p></blockquote><h4 id="其他标记">其他标记</h4><p>多个标记扩展是 XAML 固有的，在 .NET MAUI XAML 中受支持。 其中一些不是经常使用，但当你需要它们时至关重要：</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>如果属性默认具有非 null 值，但要将其设置为 null，则将其设置为 {x:Null} 标记扩展。
如果属性的类型为类型Type，则可以使用标记扩展{x:Type someClass}将其分配给Type对象。
可以使用标记扩展在 XAML x:Array 中定义数组。 此标记扩展具有一 Type 个名为指示数组中元素类型的必需属性。
</code></pre></div></div><p>有关 XAML 标记扩展的详细信息，请参阅 使用 XAML 标记扩展[https://docs.microsoft.com/zh-cn/dotnet/maui/xaml/markup-extensions/consume]。</p><h3 id="平台差异">平台差异</h3><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ContentPage</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/dotnet/2021/maui"</span>
             <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2009/xaml"</span>
             <span class="na">x:Class=</span><span class="s">"..."</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ContentPage.Padding&gt;</span>
        <span class="nt">&lt;OnPlatform</span> <span class="na">x:TypeArguments=</span><span class="s">"Thickness"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;On</span> <span class="na">Platform=</span><span class="s">"iOS"</span> <span class="na">Value=</span><span class="s">"0, 20, 0, 0"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;On</span> <span class="na">Platform=</span><span class="s">"Android"</span> <span class="na">Value=</span><span class="s">"10, 20, 20, 10"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/OnPlatform&gt;</span>
    <span class="nt">&lt;/ContentPage.Padding&gt;</span>
    ...
<span class="nt">&lt;/ContentPage&gt;</span>
</code></pre></div></div><p>OnPlatform 是泛型类，因此需要指定泛型类型参数，在本例中， Thickness这是属性的类型 Padding 。 这是使用 x:TypeArguments XAML 属性实现的。 该OnPlatform类具有一Platforms个名为IListOn，是对象的属性。 每个 On 对象都可以设置 Platform 和 Value 属性来定义 Thickness 特定平台的值。</p><p>此外，属性 Platform 的类型 On 如下 IList<string>，因此，如果值相同，则可以包含多个平台：</string></p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ContentPage</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/dotnet/2021/maui"</span>
             <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2009/xaml"</span>
             <span class="na">x:Class=</span><span class="s">"..."</span><span class="nt">&gt;</span>
    <span class="nt">&lt;ContentPage.Padding&gt;</span>
        <span class="nt">&lt;OnPlatform</span> <span class="na">x:TypeArguments=</span><span class="s">"Thickness"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;On</span> <span class="na">Platform=</span><span class="s">"iOS, Android"</span> <span class="na">Value=</span><span class="s">"10, 20, 20, 10"</span> <span class="nt">/&gt;</span>
        <span class="nt">&lt;/OnPlatform&gt;</span>
    <span class="nt">&lt;/ContentPage.Padding&gt;</span>
    ...
<span class="nt">&lt;/ContentPage&gt;</span>
</code></pre></div></div><h4 id="设备信息deviceinfo">设备信息(DeviceInfo)</h4><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">private</span> <span class="k">void</span> <span class="nf">ReadDeviceInfo</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">StringBuilder</span> <span class="n">sb</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="nf">StringBuilder</span><span class="p">();</span>

    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Model: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Model</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Manufacturer: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Manufacturer</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Name: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Name</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"OS Version: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">VersionString</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Refresh Rate: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Current</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Idiom: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Idiom</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>
    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Platform: </span><span class="p">{</span><span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Platform</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

    <span class="kt">bool</span> <span class="n">isVirtual</span> <span class="p">=</span> <span class="n">DeviceInfo</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">DeviceType</span> <span class="k">switch</span>
    <span class="p">{</span>
        <span class="n">DeviceType</span><span class="p">.</span><span class="n">Physical</span> <span class="p">=&gt;</span> <span class="k">false</span><span class="p">,</span>
        <span class="n">DeviceType</span><span class="p">.</span><span class="n">Virtual</span> <span class="p">=&gt;</span> <span class="k">true</span><span class="p">,</span>
        <span class="n">_</span> <span class="p">=&gt;</span> <span class="k">false</span>
    <span class="p">};</span>

    <span class="n">sb</span><span class="p">.</span><span class="nf">AppendLine</span><span class="p">(</span><span class="s">$"Virtual device? </span><span class="p">{</span><span class="n">isVirtual</span><span class="p">}</span><span class="s">"</span><span class="p">);</span>

    <span class="n">DisplayDeviceLabel</span><span class="p">.</span><span class="n">Text</span> <span class="p">=</span> <span class="n">sb</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="ioc使用">IOC使用</h3><ul><li>基本注入<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">static</span> <span class="n">MauiApp</span> <span class="nf">CreateMauiApp</span><span class="p">()</span>
  <span class="p">{</span>
      <span class="p">...</span>
      <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">MainPage</span><span class="p">&gt;();</span>
      <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">MainViewModel</span><span class="p">&gt;();</span>
      <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddTransient</span><span class="p">&lt;</span><span class="n">TodoListViewModel</span><span class="p">&gt;();</span>
      <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddTransient</span><span class="p">&lt;</span><span class="n">TodoListPage</span><span class="p">&gt;();</span>

      <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">IGeolocation</span><span class="p">&gt;(</span><span class="n">Geolocation</span><span class="p">.</span><span class="n">Default</span><span class="p">);</span><span class="c1">//gps位置服务</span>
      <span class="n">builder</span><span class="p">.</span><span class="n">Services</span><span class="p">.</span><span class="n">AddSingleton</span><span class="p">&lt;</span><span class="n">IMap</span><span class="p">&gt;(</span><span class="n">Map</span><span class="p">.</span><span class="n">Default</span><span class="p">);</span><span class="c1">//地图服务</span>


      <span class="k">return</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>
  <span class="p">}</span>
</code></pre></div></div></li><li>构造注入 默认情况构造注入，内置于框架中，不需要特殊配置，只要有基本注入就可以</li><li>ServiceHelper</li></ul><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">ServiceHelper</span>
    <span class="p">{</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">TService</span> <span class="n">GetService</span><span class="p">&lt;</span><span class="n">TService</span><span class="p">&gt;()</span> <span class="p">=&gt;</span> <span class="n">Current</span><span class="p">.</span><span class="n">GetService</span><span class="p">&lt;</span><span class="n">TService</span><span class="p">&gt;();</span>

        <span class="k">public</span> <span class="k">static</span> <span class="n">IServiceProvider</span> <span class="n">Current</span> <span class="p">=&gt;</span>
<span class="cp">#if WINDOWS10_0_17763_0_OR_GREATER
</span>            <span class="n">MauiWinUIApplication</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Services</span><span class="p">;</span>
<span class="cp">#elif ANDROID
</span>            <span class="n">MauiApplication</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Services</span><span class="p">;</span>
<span class="cp">#elif IOS || MACCATALYST
</span>            <span class="n">MauiUIApplicationDelegate</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Services</span><span class="p">;</span>
<span class="cp">#else
</span>            <span class="k">null</span><span class="p">;</span>
<span class="cp">#endif
</span>    <span class="p">}</span>
</code></pre></div></div><h3 id="maui-toolkit-引用方法">MAUI Toolkit 引用方法</h3><ol><li>引用包<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>dotnet add package CommunityToolkit.Maui <span class="nt">--version</span> 1.3.0
</code></pre></div></div></li><li>加载包扩展<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">MauiApp</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">();</span>
<span class="n">builder</span><span class="p">.</span><span class="n">UseMauiApp</span><span class="p">&lt;</span><span class="n">App</span><span class="p">&gt;().</span><span class="nf">ConfigureFonts</span><span class="p">(</span><span class="n">fonts</span> <span class="p">=&gt;</span>
<span class="p">{</span>
 <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"OpenSans-Regular.ttf"</span><span class="p">,</span> <span class="s">"OpenSansRegular"</span><span class="p">);</span>
 <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"OpenSans-Semibold.ttf"</span><span class="p">,</span> <span class="s">"OpenSansSemibold"</span><span class="p">);</span>
 <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"fa_solid.ttf"</span><span class="p">,</span> <span class="s">"FontAwesome"</span><span class="p">);</span>
<span class="p">}).</span><span class="nf">UseMauiCommunityToolkit</span><span class="p">();</span>
</code></pre></div></div></li><li>引入命名空间 ```xml &lt;?xml version=”1.0” encoding=”utf-8” ?&gt;</li></ol><ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit" x:Class="MauiAppSample.Pages.StatusView" xmlns:viewmodel="clr-namespace:MauiAppSample.ViewModel" x:DataType="viewmodel:StatusViewModel" Title="StatusView"> <Page.Behaviors> <toolkit:StatusBarBehavior x:Name="sbb" StatusBarColor="{Binding StatusColor}" StatusBarStyle="Default"></toolkit:StatusBarBehavior> </Page.Behaviors> <VerticalStackLayout> <label text="Welcome to .NET MAUI!" verticaloptions="Center" horizontaloptions="Center" /> <Entry Text="{Binding ColorString}"></Entry> <button command="{Binding ChangeStatusColorCommand}" text="设置"></button> <button text="Set" clicked="Button_OnClicked"></button> </VerticalStackLayout> </ContentPage><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### 字体使用
- 字符文件放到资源文件夹下Fonts目录
- 在MauiProgram中引用字体
```csharp
var builder = MauiApp.CreateBuilder();
        builder.UseMauiApp&lt;App&gt;().ConfigureFonts(fonts =&gt;
        {
            fonts.AddFont("OpenSans-Regular.ttf", "OpenSansRegular");
            fonts.AddFont("OpenSans-Semibold.ttf", "OpenSansSemibold");
            fonts.AddFont("fa_solid.ttf", "FontAwesome");
            fonts.AddFont("CREAMPUF.TTF", "CREAMPUF");
        }).UseMauiCommunityToolkit();
</code></pre></div></div><ul><li>在文件中引用 ```</li></ul><p><label text=" This is Text 中文说明书" fontfamily="CREAMPUF" textcolor="Black"></label></p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
### Font Awesome 在MAUI中的使用方式
#### 使用代码使用
- 通过官方网站下载字体文件：https://fontawesome.com/download
- 通过工具站点生成字体定义CS工具类：https://andreinitescu.github.io/IconFont2Code/
```csharp
    public static class IconFont
    {
        ...
        public const string Supple = "\uf3f9";
        public const string Uber = "\uf402";
        public const string Uikit = "\uf403";
        public const string Uniregistry = "\uf404";
        public const string Untappd = "\uf405";
        public const string Ussunnah = "\uf407";
        public const string Vaadin = "\uf408";
        public const string Viber = "\uf409";
        ...
    }
</code></pre></div></div><ul><li>注册字体<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="k">public</span> <span class="k">static</span> <span class="n">MauiApp</span> <span class="nf">CreateMauiApp</span><span class="p">()</span>
      <span class="p">{</span>
          <span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">MauiApp</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">();</span>
          <span class="n">builder</span>
              <span class="p">.</span><span class="n">UseMauiApp</span><span class="p">&lt;</span><span class="n">App</span><span class="p">&gt;()</span>
              <span class="p">.</span><span class="nf">ConfigureFonts</span><span class="p">(</span><span class="n">fonts</span> <span class="p">=&gt;</span>
              <span class="p">{</span>
                  <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"OpenSans-Regular.ttf"</span><span class="p">,</span> <span class="s">"OpenSansRegular"</span><span class="p">);</span>
                  <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"OpenSans-Semibold.ttf"</span><span class="p">,</span> <span class="s">"OpenSansSemibold"</span><span class="p">);</span>
                  <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"fa-brands-400.ttf"</span><span class="p">,</span> <span class="s">"FaBrands"</span><span class="p">);</span>
              <span class="p">});</span>

          <span class="k">return</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>
      <span class="p">}</span>
</code></pre></div></div></li></ul><h4 id="字体图标">字体图标</h4><p>To display font icons in .NET MAUI applications, we can specify the font icon data in a FontImageSource object. This class, which derives from the ImageSource class, has the following properties, as shown in Table 2.3: Property name|Type|Description</p><ul><li>|-|- Glyph|string|Unicode character value, such as “” Size|double|The size of the font in device-independent units FontFamily|string|A string representing the font family, such as FontAwesomeRegular Color|Color|Font icon color in Microsoft.Maui.Graphics. Color ```xml</li></ul><Image BackgroundColor="#D1D1D1"> <Image.Source> <FontImageSource Glyph="&#xf007;" FontFamily="FontAwesomeRegular" Size="32" /> </Image.Source> </Image><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
- 静态绑定工具类
```xml
            &lt;Label
                FontFamily="FaBrands"
                Text="{Static models:IconFont.AmazonPay}"
                SemanticProperties.HeadingLevel="Level1"
                FontSize="32"
                HorizontalOptions="Center" /&gt;
</code></pre></div></div><ul><li>运行程序</li></ul><ol><li>直接在xaml中使用<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;Label</span>  <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="na">Grid.Column=</span><span class="s">"3"</span> 
                 <span class="na">Text=</span><span class="s">"&amp;#xf118;"</span>  <span class="na">FontFamily=</span><span class="s">"FontAwesome"</span> <span class="na">FontSize=</span><span class="s">"28"</span>
                 <span class="na">VerticalOptions=</span><span class="s">"Center"</span> 
                 <span class="na">HorizontalOptions=</span><span class="s">"Center"</span> <span class="nt">/&gt;</span>
</code></pre></div></div></li><li>在样式中使用<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;ContentPage.Resources&gt;</span>
         <span class="nt">&lt;x:String</span> <span class="na">x:Key=</span><span class="s">"Smile"</span><span class="nt">&gt;</span><span class="ni">&amp;#xf118;</span><span class="nt">&lt;/x:String&gt;</span>
     <span class="nt">&lt;/ContentPage.Resources&gt;</span>
     <span class="nt">&lt;Label</span>  <span class="na">Grid.Row=</span><span class="s">"1"</span> <span class="na">Grid.Column=</span><span class="s">"3"</span> 
                 <span class="na">Text=</span><span class="s">"{StaticResource Smile}"</span>  <span class="na">FontFamily=</span><span class="s">"FontAwesome"</span> <span class="na">FontSize=</span><span class="s">"28"</span>
                 <span class="na">VerticalOptions=</span><span class="s">"Center"</span> 
                 <span class="na">HorizontalOptions=</span><span class="s">"Center"</span> <span class="nt">/&gt;</span>
</code></pre></div></div><p>1.静态变量的使用</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;Label</span> <span class="na">Grid.Row=</span><span class="s">"3"</span>  <span class="na">Grid.Column=</span><span class="s">"3"</span> 
                <span class="na">Text=</span><span class="s">"{x:Static fonthelper:IconFont.Smile}"</span>  <span class="na">FontFamily=</span><span class="s">"FontAwesome"</span>
                <span class="na">VerticalOptions=</span><span class="s">"Center"</span> 
                <span class="na">HorizontalOptions=</span><span class="s">"Center"</span> <span class="na">FontSize=</span><span class="s">"28"</span> <span class="nt">/&gt;</span>
</code></pre></div></div></li></ol><h3 id="convert的使用">Convert的使用</h3><ul><li>引用<code class="language-plaintext highlighter-rouge">CommunityToolkit.Maui</code></li><li>启动应用加载<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>      <span class="k">public</span> <span class="k">static</span> <span class="n">MauiApp</span> <span class="nf">CreateMauiApp</span><span class="p">()</span>
      <span class="p">{</span>
          <span class="kt">var</span> <span class="n">builder</span> <span class="p">=</span> <span class="n">MauiApp</span><span class="p">.</span><span class="nf">CreateBuilder</span><span class="p">();</span>
          <span class="n">builder</span>
              <span class="p">.</span><span class="n">UseMauiApp</span><span class="p">&lt;</span><span class="n">App</span><span class="p">&gt;()</span>
              <span class="p">.</span><span class="nf">ConfigureFonts</span><span class="p">(</span><span class="n">fonts</span> <span class="p">=&gt;</span>
              <span class="p">{</span>
                  <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"OpenSans-Regular.ttf"</span><span class="p">,</span> <span class="s">"OpenSansRegular"</span><span class="p">);</span>
                  <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"OpenSans-Semibold.ttf"</span><span class="p">,</span> <span class="s">"OpenSansSemibold"</span><span class="p">);</span>
                  <span class="n">fonts</span><span class="p">.</span><span class="nf">AddFont</span><span class="p">(</span><span class="s">"fa-brands-400.ttf"</span><span class="p">,</span> <span class="s">"FaBrands"</span><span class="p">);</span>
              <span class="p">}).</span><span class="nf">UseMauiCommunityToolkit</span><span class="p">();</span>

          <span class="k">return</span> <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">();</span>
      <span class="p">}</span>
</code></pre></div></div></li><li>定义转换类<div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">public</span> <span class="k">class</span> <span class="nc">DateTimeToTimeConverter</span> <span class="p">:</span> <span class="n">BaseConverter</span><span class="p">&lt;</span><span class="kt">object</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span>
  <span class="p">{</span>
      <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="nf">ConvertFrom</span><span class="p">(</span><span class="kt">object</span> <span class="k">value</span><span class="p">,</span> <span class="n">CultureInfo</span> <span class="n">culture</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="n">DateTime</span> <span class="n">dateTime</span> <span class="p">=</span> <span class="p">(</span><span class="n">DateTime</span><span class="p">)</span><span class="k">value</span><span class="p">;</span>
          <span class="k">return</span> <span class="n">TimeOnly</span><span class="p">.</span><span class="nf">FromDateTime</span><span class="p">(</span><span class="n">dateTime</span><span class="p">).</span><span class="nf">ToShortTimeString</span><span class="p">();</span>
      <span class="p">}</span>

      <span class="k">public</span> <span class="k">override</span> <span class="kt">object</span> <span class="nf">ConvertBackTo</span><span class="p">(</span><span class="kt">string</span> <span class="k">value</span><span class="p">,</span> <span class="n">CultureInfo</span> <span class="n">culture</span><span class="p">)</span>
      <span class="p">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nf">NotImplementedException</span><span class="p">();</span>
      <span class="p">}</span>

      <span class="k">public</span> <span class="k">override</span> <span class="kt">string</span> <span class="n">DefaultConvertReturnValue</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
      <span class="k">public</span> <span class="k">override</span> <span class="kt">object</span> <span class="n">DefaultConvertBackReturnValue</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;</span> <span class="p">}</span>
  <span class="p">}</span>
</code></pre></div></div></li><li>资源字典中定义转换器 ```xml</li></ul><ResourceDictionary xmlns="http://schemas.microsoft.com/dotnet/2021/maui" xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" xmlns:converts="clr-namespace:MyBreakFirst.Converts"> <converts:DateTimeToTimeConverter x:Key="DateTimeToTimeConverter"></converts:DateTimeToTimeConverter> <converts:DateTimeToBreakfastDayConverter x:Key="DateTimeToBreakfastDayConverter"></converts:DateTimeToBreakfastDayConverter> ... </ResourceDictionary><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>- xaml中引用
```xml
Label Text="{Binding StartDateTime, Converter={StaticResource DateTimeToTimeConverter}}"&gt;&lt;/Label&gt;
</code></pre></div></div><h3 id="resource使用方式">Resource使用方式</h3><p>资源分级</p><ul><li>应用程序级（全局）</li><li>页面级(内联样式)</li><li>控件级</li></ul><p>每一级的优先级依次变高，高优先级的定义覆盖低优先级</p><h4 id="应用程序级">应用程序级</h4><p>一般定义到应用程序级的Resource/Style目录下，在App.xaml文件中进行引用</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version = "1.0" encoding = "UTF-8" ?&gt;</span>
<span class="nt">&lt;Application</span> <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/dotnet/2021/maui"</span>
             <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2009/xaml"</span>
             <span class="na">xmlns:local=</span><span class="s">"clr-namespace:MauiAppSample"</span>
             <span class="na">x:Class=</span><span class="s">"MauiAppSample.App"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;Application.Resources&gt;</span>
        <span class="nt">&lt;ResourceDictionary&gt;</span>
            <span class="nt">&lt;ResourceDictionary.MergedDictionaries&gt;</span>
                <span class="nt">&lt;ResourceDictionary</span> <span class="na">Source=</span><span class="s">"Resources/Styles/Colors.xaml"</span> <span class="nt">/&gt;</span>
                <span class="nt">&lt;ResourceDictionary</span> <span class="na">Source=</span><span class="s">"Resources/Styles/Styles.xaml"</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;/ResourceDictionary.MergedDictionaries&gt;</span>
        <span class="nt">&lt;/ResourceDictionary&gt;</span>
    <span class="nt">&lt;/Application.Resources&gt;</span>
<span class="nt">&lt;/Application&gt;</span>
</code></pre></div></div><h4 id="页面级内联样式">页面级（内联样式）</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ContentPage.Resources&gt;</span>
        <span class="nt">&lt;x:String</span> <span class="na">x:Key=</span><span class="s">"Smile"</span><span class="nt">&gt;</span><span class="ni">&amp;#xf118;</span><span class="nt">&lt;/x:String&gt;</span>
<span class="nt">&lt;/ContentPage.Resources&gt;</span>
</code></pre></div></div><h4 id="控件级">控件级</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Button</span> <span class="na">Text=</span><span class="s">"内联样式绑定key"</span> <span class="na">Style=</span><span class="s">"{StaticResource SpecButton}"</span> <span class="nt">&gt;</span>
            <span class="nt">&lt;Button.Resources&gt;</span>
                <span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">"Button"</span><span class="nt">&gt;</span>
                    <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"BackgroundColor"</span> <span class="na">Value=</span><span class="s">"Orange"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
                <span class="nt">&lt;/Style&gt;</span>
            <span class="nt">&lt;/Button.Resources&gt;</span>
        <span class="nt">&lt;/Button&gt;</span>
</code></pre></div></div><p>样式的应用到派生类（ApplyToDerivedTypes = true）</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">"StackBase"</span> <span class="na">ApplyToDerivedTypes=</span><span class="s">"True"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"VerticalOptions"</span> <span class="na">Value=</span><span class="s">"Center"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"Padding"</span> <span class="na">Value=</span><span class="s">"30,0"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"Spacing"</span> <span class="na">Value=</span><span class="s">"25"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
</code></pre></div></div><h4 id="样式继承">样式继承</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        <span class="nt">&lt;Style</span>  <span class="na">TargetType=</span><span class="s">"Button"</span> <span class="na">x:Key=</span><span class="s">"BaseButton"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"FontAttributes"</span> <span class="na">Value=</span><span class="s">"Bold"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"FontSize"</span> <span class="na">Value=</span><span class="s">"Large"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"TextColor"</span> <span class="na">Value=</span><span class="s">"#ffc857"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
        <span class="nt">&lt;Style</span>  <span class="na">TargetType=</span><span class="s">"Button"</span>  <span class="na">BasedOn=</span><span class="s">"{StaticResource BaseButton}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"BackgroundColor"</span> <span class="na">Value=</span><span class="s">"{StaticResource BgColor}"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
        <span class="nt">&lt;Style</span> <span class="na">x:Key=</span><span class="s">"SpecButton"</span>  <span class="na">TargetType=</span><span class="s">"Button"</span> <span class="na">BasedOn=</span><span class="s">"{StaticResource BaseButton}"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"BackgroundColor"</span> <span class="na">Value=</span><span class="s">"Orange"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
</code></pre></div></div><h4 id="resourcedictionary定义">ResourceDictionary定义</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="cp">&lt;?xaml-comp compile="true" ?&gt;</span>
<span class="nt">&lt;ResourceDictionary</span> 
    <span class="na">xmlns=</span><span class="s">"http://schemas.microsoft.com/dotnet/2021/maui"</span>
    <span class="na">xmlns:x=</span><span class="s">"http://schemas.microsoft.com/winfx/2009/xaml"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;Color</span> <span class="na">x:Key=</span><span class="s">"Primary"</span><span class="nt">&gt;</span>#512BD4<span class="nt">&lt;/Color&gt;</span>
    <span class="nt">&lt;Color</span> <span class="na">x:Key=</span><span class="s">"Secondary"</span><span class="nt">&gt;</span>#DFD8F7<span class="nt">&lt;/Color&gt;</span>
    <span class="nt">&lt;Color</span> <span class="na">x:Key=</span><span class="s">"Tertiary"</span><span class="nt">&gt;</span>#2B0B98<span class="nt">&lt;/Color&gt;</span>
    ...
<span class="nt">&lt;/ResourceDictionary&gt;</span>
</code></pre></div></div><h4 id="动态样式">动态样式</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;Button</span> <span class="na">Text=</span><span class="s">"动态样式"</span> <span class="na">Style=</span><span class="s">"{DynamicResource DynamicStyle}"</span> <span class="na">Clicked=</span><span class="s">"Button_OnClicked"</span><span class="nt">&gt;&lt;/Button&gt;</span>
</code></pre></div></div><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">private</span> <span class="n">Random</span> <span class="n">random</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Random</span><span class="p">();</span>
    <span class="k">private</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">ColorStyle</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="p">{</span> <span class="s">"RedButton"</span><span class="p">,</span> <span class="s">"GreenButton"</span><span class="p">,</span> <span class="s">"BlueButton"</span> <span class="p">};</span>
    <span class="k">private</span> <span class="k">void</span> <span class="nf">Button_OnClicked</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">EventArgs</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">try</span>
        <span class="p">{</span>
            
            <span class="kt">var</span> <span class="n">index</span> <span class="p">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">Next</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">2</span><span class="p">);</span>
            <span class="kt">var</span> <span class="n">style</span> <span class="p">=</span> <span class="nf">GetStyle</span><span class="p">(</span><span class="n">ColorStyle</span><span class="p">[</span><span class="n">index</span><span class="p">]);</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">style</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">Resources</span><span class="p">[</span><span class="s">"DynamicStyle"</span><span class="p">]</span> <span class="p">=</span> <span class="n">style</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="p">)</span>
        <span class="p">{</span>

        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="kt">object</span> <span class="nf">GetStyle</span><span class="p">(</span><span class="kt">string</span> <span class="n">styleName</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">object</span> <span class="n">style</span> <span class="p">=</span> <span class="nf">GetStyle</span><span class="p">(</span><span class="n">Application</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Resources</span><span class="p">,</span> <span class="n">styleName</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">style</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">foreach</span> <span class="p">(</span><span class="kt">var</span> <span class="n">rd</span>
                     <span class="k">in</span> <span class="n">Application</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Resources</span><span class="p">.</span><span class="n">MergedDictionaries</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">style</span> <span class="p">=</span> <span class="nf">GetStyle</span><span class="p">(</span><span class="n">rd</span><span class="p">,</span> <span class="n">styleName</span><span class="p">);</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">style</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
                <span class="p">{</span>
                    <span class="k">break</span><span class="p">;</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">style</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="kt">object</span> <span class="nf">GetStyle</span><span class="p">(</span><span class="n">ResourceDictionary</span> <span class="n">rd</span><span class="p">,</span> <span class="kt">string</span> <span class="n">styleName</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">object</span> <span class="n">style</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">Application</span><span class="p">.</span><span class="n">Current</span><span class="p">.</span><span class="n">Resources</span><span class="p">.</span><span class="nf">TryGetValue</span><span class="p">(</span><span class="n">styleName</span><span class="p">,</span> <span class="k">out</span> <span class="n">style</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">style</span><span class="p">;</span>
    <span class="p">}</span>
</code></pre></div></div><h4 id="样式类styleclass">样式类(StyleClass)</h4><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
        <span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">"Button"</span> <span class="na">Class=</span><span class="s">"ButtonText"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"FontSize"</span> <span class="na">Value=</span><span class="s">"Large"</span> <span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"FontAttributes"</span> <span class="na">Value=</span><span class="s">"Bold"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
        <span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">"Button"</span> <span class="na">Class=</span><span class="s">"LightButton"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"BackgroundColor"</span> <span class="na">Value=</span><span class="s">"LightGray"</span> <span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"TextColor"</span> <span class="na">Value=</span><span class="s">"Black"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
        <span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">"Button"</span> <span class="na">Class=</span><span class="s">"DartButton"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"BackgroundColor"</span> <span class="na">Value=</span><span class="s">"Purple"</span> <span class="nt">&gt;&lt;/Setter&gt;</span>
            <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">"TextColor"</span> <span class="na">Value=</span><span class="s">"White"</span><span class="nt">&gt;&lt;/Setter&gt;</span>
        <span class="nt">&lt;/Style&gt;</span>
        
<span class="nt">&lt;Button</span> <span class="na">Text=</span><span class="s">".NET MAUI!"</span> <span class="na">StyleClass=</span><span class="s">"ButtonText,DartButton"</span><span class="nt">&gt;&lt;/Button&gt;</span>
<span class="nt">&lt;Button</span> <span class="na">Text=</span><span class="s">".NET MAUI!"</span> <span class="na">StyleClass=</span><span class="s">"ButtonText,LightButton"</span><span class="nt">&gt;&lt;/Button&gt;</span>
</code></pre></div></div><p>https://andreinitescu.github.io/IconFont2Code/</p><h3 id="应用生命周期">应用生命周期</h3><p>应用程序的四种状态</p><ul><li>Running</li><li>Not running</li><li>Deactivate</li><li>Stopped</li></ul><table><thead><tr><th>事件</th><th>状态变更</th><th>重写方法</th><th>描述</th></tr></thead><tbody><tr><td>Created</td><td>Not Running -&gt; Running</td><td>OnCreated</td><td> </td></tr><tr><td>Activated</td><td>Not Runing -&gt; Runding</td><td>OnActivated</td><td> </td></tr><tr><td>Deactivated</td><td>Runing -&gt;Deactivated</td><td>OnDeactivated</td><td> </td></tr><tr><td>Stopped</td><td>Deactivated-&gt;Stopped</td><td>OnStopped</td><td> </td></tr><tr><td>Resumed</td><td>Stopped-&gt;Running</td><td>OnResumed</td><td> </td></tr><tr><td>Destroying</td><td>Stopped-&gt;Not Running</td><td>OnDestroying</td><td> </td></tr></tbody></table><p>重写方法一：</p><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">App</span> <span class="p">:</span> <span class="n">Application</span> <span class="p">{</span>
  <span class="k">public</span> <span class="nf">App</span><span class="p">()</span> <span class="p">{</span>
    <span class="nf">InitializeComponent</span><span class="p">();</span>
    <span class="n">MainPage</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MainPage</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="k">protected</span> <span class="k">override</span> <span class="n">Window</span> <span class="nf">CreateWindow</span><span class="p">(</span><span class="n">IActivationState</span>
    <span class="n">activationState</span><span class="p">)</span>                                       <span class="err">➊</span>
  <span class="p">{</span>
    <span class="c1">//按默认方法创建一个窗体</span>
    <span class="n">Window</span> <span class="n">window</span> <span class="p">=</span> <span class="k">base</span><span class="p">.</span><span class="nf">CreateWindow</span><span class="p">(</span><span class="n">activationState</span><span class="p">);</span>
    <span class="n">window</span><span class="p">.</span><span class="n">Created</span> <span class="p">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 1. Created event"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="n">window</span><span class="p">.</span><span class="n">Activated</span> <span class="p">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 2. Activated event"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="n">window</span><span class="p">.</span><span class="n">Deactivated</span> <span class="p">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 3. Deactivated  
</span>        <span class="k">event</span><span class="s">");
</span>    <span class="p">};</span>
    <span class="n">window</span><span class="p">.</span><span class="n">Stopped</span> <span class="p">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 4. Stopped event"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="n">window</span><span class="p">.</span><span class="n">Resumed</span> <span class="p">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 5. Resumed event"</span><span class="p">);</span>
    <span class="p">};</span>
    <span class="n">window</span><span class="p">.</span><span class="n">Destroying</span> <span class="p">+=</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">e</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
      <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 6. Destroying  
</span>        <span class="k">event</span><span class="s">");
</span>    <span class="p">};</span>
    <span class="k">return</span> <span class="n">window</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>方式二：</p><div class="language-csharp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">PxWindow</span> <span class="p">:</span> <span class="n">Window</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="nf">PxWindow</span><span class="p">()</span> <span class="p">:</span> <span class="k">base</span><span class="p">()</span> <span class="p">{}</span>
    <span class="k">public</span> <span class="nf">PxWindow</span><span class="p">(</span><span class="n">Page</span> <span class="n">page</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">page</span><span class="p">)</span> <span class="p">{}</span>

    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnCreated</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 1. OnCreated"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnActivated</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 2. OnActivated"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDeactivated</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 3. OnDeactivated"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnStopped</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 4. OnStopped"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnResumed</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 5. OnResumed"</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">OnDestroying</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">Debug</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="s">"PassXYZ.Vault.App: 6. OnDestroying"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">public</span> <span class="k">partial</span> <span class="k">class</span> <span class="nc">App</span> <span class="p">:</span> <span class="n">Application</span>
<span class="p">{</span>
 <span class="k">public</span> <span class="nf">App</span><span class="p">()</span>
 <span class="p">{</span>
 <span class="nf">InitializeComponent</span><span class="p">();</span>
 <span class="p">}</span>

<span class="k">protected</span> <span class="k">override</span> <span class="n">Window</span> <span class="nf">CreateWindow</span><span class="p">(</span><span class="n">IActivationState</span>
    <span class="n">activationState</span><span class="p">)</span>                                       <span class="err">➊</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="nf">PxWindow</span><span class="p">(</span><span class="k">new</span> <span class="nf">MainPage</span><span class="p">());</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><p>Application类有三个事件</p><ul><li>OnStart – Called when the application starts</li><li>OnSleep – Called each time the application goes to the background</li><li>OnResume – Called when the application is resumed, after being sent to the background</li></ul><h3 id="资源配置">资源配置</h3><table><thead><tr><th>Resource Type</th><th>Build Action</th><th>Example</th></tr></thead><tbody><tr><td>Images</td><td>MauiImage</td><td>dotnet_bot.svg</td></tr><tr><td>Icons</td><td>MauiIcon</td><td>appicon.svg</td></tr><tr><td>Splash screen image</td><td>MauiSplashScreen</td><td>appiconfg.svg</td></tr><tr><td>Fonts</td><td>MauiFont</td><td>OpenSans-Regular.ttf</td></tr><tr><td>Style definition using external CSS</td><td>MauiCss</td><td> </td></tr><tr><td>Raw assets</td><td>MauiAsset</td><td> </td></tr><tr><td>XAML UI definition</td><td>MauiXaml</td><td> </td></tr></tbody></table><h3 id="应用程序图标替换">应用程序图标替换</h3><table><thead><tr><th>文件</th><th>说明</th></tr></thead><tbody><tr><td>Resources/AppIcon/appicon.svg</td><td>应用图标</td></tr><tr><td>Resources/AppIcon/appiconfg.svg</td><td>应用水印文字</td></tr><tr><td>Resources/Splash/splash.svg</td><td>应用启动Splash</td></tr></tbody></table><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- App Icon --&gt;</span>
<span class="nt">&lt;MauiIcon</span> <span class="na">Include=</span><span class="s">"Resources\AppIcon\appicon.svg"</span> <span class="na">ForegroundFile=</span><span class="s">"Resources\AppIcon\appiconfg.svg"</span> <span class="na">Color=</span><span class="s">"#512BD4"</span> <span class="nt">/&gt;</span>
		
<span class="c">&lt;!-- Splash Screen --&gt;</span>
<span class="nt">&lt;MauiSplashScreen</span> <span class="na">Include=</span><span class="s">"Resources\Splash\splash.svg"</span> <span class="na">Color=</span><span class="s">"#512BD4"</span> <span class="na">BaseSize=</span><span class="s">"128,128"</span> <span class="nt">/&gt;</span>
</code></pre></div></div><p>应用名称在项目属性中进行修改</p><div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;manifest</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span> <span class="na">android:versionCode=</span><span class="s">"1"</span> <span class="na">android:versionName=</span><span class="s">"1.0.0"</span> <span class="na">android:installLocation=</span><span class="s">"auto"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;application</span> <span class="na">android:allowBackup=</span><span class="s">"true"</span> <span class="na">android:icon=</span><span class="s">"@mipmap/appicon"</span> <span class="na">android:roundIcon=</span><span class="s">"@mipmap/appicon_round"</span> <span class="na">android:supportsRtl=</span><span class="s">"true"</span> <span class="na">android:label=</span><span class="s">"蓝鲨软件"</span><span class="nt">&gt;&lt;/application&gt;</span>
	<span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.ACCESS_NETWORK_STATE"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.INTERNET"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;uses-sdk</span> <span class="na">android:minSdkVersion=</span><span class="s">"25"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/manifest&gt;</span>
</code></pre></div></div><div style="margin-top:2em;padding:0 1.5em;border:1px solid #d3d3d3;background-color:#deebf7"><h3>文档信息</h3><ul><li>本文作者：<a href="https://zmngw.github.io" target="_blank">zhoubin</a></li><li>本文链接：<a href="https://zmngw.github.io/2023/09/05/MAUINote/" target="_blank">https://zmngw.github.io/2023/09/05/MAUINote/</a></li><li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">创意共享3.0许可证</a>）</li></ul></div></article><div class="share"></div><div class="comment"> <script src="https://giscus.app/client.js" data-repo="usteinfo/blog-comments" data-repo-id="R_kgDOKL8L_A" data-category="Announcements" data-category-id="DIC_kwDOKL8L_M4CY4xg" data-mapping="title" data-strict="1" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="zh-CN" data-loading="lazy" crossorigin="anonymous" async> </script></div></div><div class="column one-fourth"><h3>Search</h3><div id="site_search"> <input style="width:96%" type="text" id="search_box" placeholder="Search"></div><ul id="search_results" style="font-size:14px;list-style-type:none;padding-top:10px;padding-left:10px;"></ul><script src="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/js/simple-jekyll-search.min.js"></script> <script type="text/javascript"> SimpleJekyllSearch({ searchInput: document.getElementById('search_box'), resultsContainer: document.getElementById('search_results'), json: 'https://zmngw.github.io/assets/search_data.json?v=1707143074', searchResultTemplate: '<li><a href="{url}" title="{title}">{title}</a></li>', noResultsText: 'No results found', limit: 10, fuzzy: false, exclude: ['Welcome'] }) </script><h3 class="post-directory-title mobile-hidden">Table of Contents</h3><div id="post-directory-module" class="mobile-hidden"><section class="post-directory"><dl></dl></section></div><script src="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/js/jquery.toc.js"></script></div></div></section><footer class="container"><div class="site-footer" role="contentinfo"><div class="copyright left mobile-block"> © 2023 <span title="zhoubin">zhoubin</span> <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a></div><ul class="site-footer-links right mobile-hidden"><li> <a href="javascript:window.scrollTo(0,0)" >TOP</a></li></ul><a href="https://github.com/usteinfo/usteinfo.github.io" target="_blank" aria-label="view source code"> <span class="mega-octicon octicon-mark-github" title="GitHub"></span> </a><ul class="site-footer-links mobile-hidden"><li> <a href="https://zmngw.github.io/" title="首页" target="">首页</a></li><li> <a href="https://zmngw.github.io/categories/" title="分类" target="">分类</a></li><li> <a href="https://zmngw.github.io/archives/" title="归档" target="">归档</a></li><li> <a href="https://zmngw.github.io/open-source/" title="开源" target="">开源</a></li><li> <a href="https://zmngw.github.io/fragments/" title="片段" target="">片段</a></li><li> <a href="https://zmngw.github.io/wiki/" title="维基" target="">维基</a></li><li> <a href="https://zmngw.github.io/links/" title="链接" target="">链接</a></li><li> <a href="https://zmngw.github.io/about/" title="关于" target="">关于</a></li><li><a href="https://zmngw.github.io/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li></ul><script async src="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/vendor/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="mobile-hidden" style="margin-top:8px"> <span id="busuanzi_container_site_pv" style="display:none"> 本站访问量<span id="busuanzi_value_site_pv"></span>次 </span> <span id="busuanzi_container_site_uv" style="display:none"> / 本站访客数<span id="busuanzi_value_site_uv"></span>人 </span> <span id="busuanzi_container_page_pv" style="display:none"> / 本页访问量<span id="busuanzi_value_page_pv"></span>次 / 统计始于2023-09-02 </span></div></div></footer><div class="tools-wrapper"> <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a></div><script src="https://fastly.jsdelivr.net/gh/usteinfo/usteinfo.github.io@master/assets/js/geopattern.js"></script> <script> jQuery(document).ready(function($) { $('.geopattern').each(function(){ $(this).geopattern($(this).data('pattern-id')); }); /* hljs.initHighlightingOnLoad(); */ }); </script></body></html>
